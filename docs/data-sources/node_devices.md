---
page_title: "Data Source libvirt_node_devices - terraform-provider-libvirt"
subcategory: ""
description: |-
  Enumerates devices available on the libvirt host node.
  This data source lists devices by capability type, useful for discovering PCI devices for passthrough, USB devices, network interfaces, storage devices, and more.
---

# libvirt_node_devices (Data Source)

Enumerates devices available on the libvirt host node.

This data source lists devices by capability type, useful for discovering PCI devices for passthrough, USB devices, network interfaces, storage devices, and more.

## Example Usage

```terraform
# List all devices
data "libvirt_node_devices" "all" {
}

# List only PCI devices (useful for GPU passthrough)
data "libvirt_node_devices" "pci" {
  capability = "pci"
}

# List only network interfaces
data "libvirt_node_devices" "network" {
  capability = "net"
}

# List only USB devices
data "libvirt_node_devices" "usb" {
  capability = "usb_device"
}

# List only storage devices
data "libvirt_node_devices" "storage" {
  capability = "storage"
}

output "all_devices" {
  description = "All devices on the host"
  value       = data.libvirt_node_devices.all.devices
}

output "pci_devices" {
  description = "PCI devices available for passthrough"
  value       = data.libvirt_node_devices.pci.devices
}

output "network_interfaces" {
  description = "Network interfaces on the host"
  value       = data.libvirt_node_devices.network.devices
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `capability` (String) Filter devices by capability type. Valid values include:

  - `system` - Host system information
  - `pci` - PCI devices
  - `usb_device` - USB devices
  - `usb` - USB host controllers
  - `net` - Network interfaces
  - `scsi_host` - SCSI host adapters
  - `scsi` - SCSI devices
  - `storage` - Storage devices
  - `drm` - DRM devices
  - `mdev` - Mediated devices
  - `ccw` - s390 CCW devices
  - `css` - s390 CSS devices
  - `ap_queue` - s390 AP queue devices
  - `ap_card` - s390 AP card devices
  - `ap_matrix` - s390 AP matrix devices
  - `ccw_group` - s390 CCW group devices

If not specified, all devices are returned.

### Read-Only

- `devices` (Set of String) Set of device names. Device names are in libvirt's internal format (e.g., `pci_0000_00_1f_2`, `net_eth0_00_11_22_33_44_55`).
- `id` (String) Internal identifier for this data source.
